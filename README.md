# 실시간 채팅 프로그램 

## 프로그램 설명
개발 환경 : Ubuntu 20.0.4 LTS    
실시간으로 다수의 클라이언트를 하나의 서버가 concurrent하게 처리해주는 프로그램을 만드려고 한다. 이를 위해 단체 채팅방과 유사한 실시간 채팅 프로그램을 구현하는 것을 목표로 하며 뮤텍스를 이용한 동기화 기능 , multiplexing 기능, 파일 억세스를 함께 구현하였다.
- 실시간 채팅 : 각 클라이언트가 채팅창에 입력하는 내용이 서버에 연결된 모든 클
라이언트에게 전송된다. 
- 서버 명령어 : 서버 관리자를 위한 명령어로 입력된 채팅 수, 접속중인 유저 수, 접속중인 유저 ip주소를 확인할 수 있다. 
- 파일 전송 : 서버가 관리하는 채팅 로그 파일을 클라이언트가 “chatlog” 명령어로 
요청하면 서버에 있는 “chatlog.log” 파일이 클라이언트에게 전송되고 클라이언트의 
local에 다운로드 된다. 
- 채팅 종료 : 채팅창에 “exit”을 치거나 프로그램을 종료하면 된다. 
---
### 서버 실행방법

* 서버 컴파일 방법 : server.c 파일이 있는 디렉터리의  터미널에서 다음과 같이 명령어를 입력한다.  

        gcc - o server server.c -lpthread  

* 서버 실행 방법 : 컴파일된 server 파일이 있는 디렉터리의 터미널에서 "./server 포트번호" 를 입력한다  
          
       ./server 9090
---

### 클라이언트 실행방법

* 클라이언트 컴파일 방법 : client.c 파일이 있는 디렉터리의 터미널에서 다음과 같이 명령어를 입력한다.  

        gcc - o client client.c  

* 서버 실행 방법 : 컴파일 된 client 파일이 있는 디렉터리의 터미널에서 "./server 포트번호" 를 입력한다  
          
       ./client server_ip server_port nickname 
       예시 : ./client 10.0.2.15 9090 hansol
---
### 서버 명령어 
   
서버에서 수행할 수 있는 명령어는 다음과 같다.  
서버 프로그램에서 해당 명령어를 입력하면 수행된다.  
* help : 서버에서 수행할 수 있는 명령어 목록이 출력된다.
* user_num : 채팅 프로그램에 현재 접속해 있는 클라이언트 수를 출력한다.
* chat_num : 서버가 실행되고 나서부터 현재까지의 입력된 채팅 수를 출력한다.
* ip_list : 현재 접속중인 클라이언트들의 ip 주소를 출력한다.

---
### 클라이언트 명령어 
클라이언트가 수행할 수 있는 명령어는 다음과 같다.
클라이언트 프로그램에서 해당 명령어를 입력하면 수행된다.
* exit : 클라이언트의 접속 종료
* chatlog : 서버에 기록되고 있는 채팅 기록인 chatlog.log 파일을 클라이언트의 로컬 디렉터리에 "downloded_chatlog.log" 파일 이름으로 다운받는다.

--- 
### 주의사항 
* 해당 채팅 프로그램의 최대 연결 클라이언트 수는 50 이다.
* 이 프로그램은 Ubuntu 20.0.4 LTS 버전에서 작성되었다.

---
###
참고한 소켓 프로그램 : https://crazythink.github.io/2018/05/25/socketchat/